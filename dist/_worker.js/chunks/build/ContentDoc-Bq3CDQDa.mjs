import{_ as t,F as e,H as o,Q as n}from"../_/nitro.mjs";import r from"./ContentRenderer-A4gGJZqD.mjs";import i from"./ContentQuery-DlLVjM-Z.mjs";import{v as s,a,u as l}from"./server.mjs";import{u as p}from"./v3-UjTMhTIX.mjs";import"node:buffer";import"node:timers";import"node:events";import"node:process";import"cloudflare:workers";import"./ContentRendererMarkdown-Hg1zZxAN.mjs";import"./node-hwMnPqaI.mjs";import"./preview-DaGHZvIK.mjs";import"../routes/renderer.mjs";import"../_/shared.esm-bundler.mjs";import"../_/index2.mjs";import"./asyncData-Dx1Jrwy3.mjs";import"./query-D_xpVYMB.mjs";const useContentHead=(r,i=l())=>{const u=s.unref(r),m=a();s.watch(()=>s.unref(r),(r=u)=>{var s;if(!i.path||!r)return;const a=Object.assign({},(null==r?void 0:r.head)||{});a.meta=[...a.meta||[]],a.link=[...a.link||[]];const l=a.title||(null==r?void 0:r.title);l&&(a.title=l,a.meta.some(t=>"og:title"===t.property)||a.meta.push({property:"og:title",content:l}));const d=m.public.content.host;if(d){const n=e(null!=d?d:"/",m.app.baseURL,i.fullPath),r=m.public.content.trailingSlash?t(n):o(n);a.meta.some(t=>"og:url"===t.property)||a.meta.push({property:"og:url",content:r}),a.link.some(t=>"canonical"===t.rel)||a.link.push({rel:"canonical",href:r})}const c=(null==a?void 0:a.description)||(null==r?void 0:r.description);c&&0===a.meta.filter(t=>"description"===t.name).length&&a.meta.push({name:"description",content:c}),c&&!a.meta.some(t=>"og:description"===t.property)&&a.meta.push({property:"og:description",content:c});const h=(null==a?void 0:a.image)||(null==r?void 0:r.image);if(h&&0===a.meta.filter(t=>"og:image"===t.property).length&&("string"==typeof h&&a.meta.push({property:"og:image",content:d&&!n(h)?new URL(e(m.app.baseURL,h),d).href:h}),"object"==typeof h)){const t=["src","secure_url","type","width","height","alt"];for(const o of t)if("src"===o&&h.src){const t=n(h.src),o=t?h.src:e(m.app.baseURL,null!=(s=h.src)?s:"/");a.meta.push({property:"og:image",content:d&&!t?new URL(o,d).href:o})}else h[o]&&a.meta.push({property:`og:image:${o}`,content:h[o]})}p(a)},{immediate:!0})},u=s.defineComponent({name:"ContentDoc",props:{tag:{type:String,required:!1,default:"div"},excerpt:{type:Boolean,default:!1},path:{type:String,required:!1,default:void 0},query:{type:Object,required:!1,default:void 0},head:{type:Boolean,required:!1,default:void 0}},render(e){const{contentHead:o}=a().public.content,n=s.useSlots(),{tag:p,excerpt:u,path:m,query:d,head:c}=e,h=void 0===c?o:c,f={...d||{},path:m||(null==d?void 0:d.path)||t(l().path),find:"one"};return s.h(i,f,{default:(null==n?void 0:n.default)?({data:t,refresh:e,isPartial:o})=>{var r;return h&&useContentHead(t),null==(r=n.default)?void 0:r.call(n,{doc:t,refresh:e,isPartial:o,excerpt:u,...this.$attrs})}:({data:t})=>(h&&useContentHead(t),s.h(r,{value:t,excerpt:u,tag:p,...this.$attrs},{empty:e=>(null==n?void 0:n.empty)?n.empty(e):((t,e)=>s.h("pre",null,JSON.stringify({message:"You should use slots with <ContentDoc>",slot:t,data:e},null,2)))("default",t)})),empty:t=>{var e;return(null==(e=null==n?void 0:n.empty)?void 0:e.call(n,t))||s.h("p",null,"Document is empty, overwrite this content with #empty slot in <ContentDoc>.")},"not-found":t=>{var e;return(null==(e=null==n?void 0:n["not-found"])?void 0:e.call(n,t))||s.h("p",null,"Document not found, overwrite this content with #not-found slot in <ContentDoc>.")}})}}),m=u.setup;u.setup=(t,e)=>{const o=s.useSSRContext();return(o.modules||(o.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentDoc.vue"),m?m(t,e):void 0};export{u as default};
//# sourceMappingURL=ContentDoc-Bq3CDQDa.mjs.map
