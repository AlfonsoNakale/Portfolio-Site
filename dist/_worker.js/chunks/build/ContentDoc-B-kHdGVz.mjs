import{_ as t,F as e,H as o,Q as n}from"../_/nitro.mjs";import r from"./ContentRenderer-DTJj2Ilw.mjs";import i from"./ContentQuery-DPI5elWW.mjs";import{v as s,a as l,u as a}from"./server.mjs";import{u as p}from"./v3-CguCvAtn.mjs";import"node:buffer";import"node:timers";import"node:events";import"node:process";import"cloudflare:workers";import"./ContentRendererMarkdown-GC7JwlEl.mjs";import"./node-hwMnPqaI.mjs";import"./preview-lsRfUkkH.mjs";import"../routes/renderer.mjs";import"../_/shared.esm-bundler.mjs";import"../_/index2.mjs";import"./asyncData-2UkiRMsx.mjs";import"./query-CvPJuHuz.mjs";const useContentHead=(r,i=a())=>{const u=s.unref(r),m=l();s.watch(()=>s.unref(r),(r=u)=>{var s;if(!i.path||!r)return;const l=Object.assign({},(null==r?void 0:r.head)||{});l.meta=[...l.meta||[]],l.link=[...l.link||[]];const a=l.title||(null==r?void 0:r.title);a&&(l.title=a,l.meta.some(t=>"og:title"===t.property)||l.meta.push({property:"og:title",content:a}));const d=m.public.content.host;if(d){const n=e(null!=d?d:"/",m.app.baseURL,i.fullPath),r=m.public.content.trailingSlash?t(n):o(n);l.meta.some(t=>"og:url"===t.property)||l.meta.push({property:"og:url",content:r}),l.link.some(t=>"canonical"===t.rel)||l.link.push({rel:"canonical",href:r})}const c=(null==l?void 0:l.description)||(null==r?void 0:r.description);c&&0===l.meta.filter(t=>"description"===t.name).length&&l.meta.push({name:"description",content:c}),c&&!l.meta.some(t=>"og:description"===t.property)&&l.meta.push({property:"og:description",content:c});const h=(null==l?void 0:l.image)||(null==r?void 0:r.image);if(h&&0===l.meta.filter(t=>"og:image"===t.property).length&&("string"==typeof h&&l.meta.push({property:"og:image",content:d&&!n(h)?new URL(e(m.app.baseURL,h),d).href:h}),"object"==typeof h)){const t=["src","secure_url","type","width","height","alt"];for(const o of t)if("src"===o&&h.src){const t=n(h.src),o=t?h.src:e(m.app.baseURL,null!=(s=h.src)?s:"/");l.meta.push({property:"og:image",content:d&&!t?new URL(o,d).href:o})}else h[o]&&l.meta.push({property:`og:image:${o}`,content:h[o]})}p(l)},{immediate:!0})},u=s.defineComponent({name:"ContentDoc",props:{tag:{type:String,required:!1,default:"div"},excerpt:{type:Boolean,default:!1},path:{type:String,required:!1,default:void 0},query:{type:Object,required:!1,default:void 0},head:{type:Boolean,required:!1,default:void 0}},render(e){const{contentHead:o}=l().public.content,n=s.useSlots(),{tag:p,excerpt:u,path:m,query:d,head:c}=e,h=void 0===c?o:c,f={...d||{},path:m||(null==d?void 0:d.path)||t(a().path),find:"one"};return s.h(i,f,{default:(null==n?void 0:n.default)?({data:t,refresh:e,isPartial:o})=>{var r;return h&&useContentHead(t),null==(r=n.default)?void 0:r.call(n,{doc:t,refresh:e,isPartial:o,excerpt:u,...this.$attrs})}:({data:t})=>(h&&useContentHead(t),s.h(r,{value:t,excerpt:u,tag:p,...this.$attrs},{empty:e=>(null==n?void 0:n.empty)?n.empty(e):((t,e)=>s.h("pre",null,JSON.stringify({message:"You should use slots with <ContentDoc>",slot:t,data:e},null,2)))("default",t)})),empty:t=>{var e;return(null==(e=null==n?void 0:n.empty)?void 0:e.call(n,t))||s.h("p",null,"Document is empty, overwrite this content with #empty slot in <ContentDoc>.")},"not-found":t=>{var e;return(null==(e=null==n?void 0:n["not-found"])?void 0:e.call(n,t))||s.h("p",null,"Document not found, overwrite this content with #not-found slot in <ContentDoc>.")}})}}),m=u.setup;u.setup=(t,e)=>{const o=s.useSSRContext();return(o.modules||(o.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentDoc.vue"),m?m(t,e):void 0};export{u as default};
//# sourceMappingURL=ContentDoc-B-kHdGVz.mjs.map
