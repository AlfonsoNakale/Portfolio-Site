import{h as t}from"../_/index2.mjs";import{u as e}from"./asyncData-2UkiRMsx.mjs";import{u as n,q as o,w as r,e as a,a as i,s,j as u}from"./query-CvPJuHuz.mjs";import{u as m}from"./preview-lsRfUkkH.mjs";import{v as p,b as l,a as d}from"./server.mjs";import{_ as f}from"./nuxt-link-B-wJpx-r.mjs";import"node:buffer";import"../_/nitro.mjs";import"node:timers";import"node:events";import"node:process";import"cloudflare:workers";import"../routes/renderer.mjs";import"../_/shared.esm-bundler.mjs";const v=p.defineComponent({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(f){const{query:v}=p.toRefs(f),c=p.computed(()=>{var t;return"function"==typeof(null==(t=v.value)?void 0:t.params)?v.value.params():v.value});if(!c.value&&function(...t){const e="string"==typeof t[t.length-1]?t.pop():void 0;"string"!=typeof t[0]&&t.unshift(e);const[n,o]=t;if(!n||"string"!=typeof n)throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(void 0!==o&&"function"!=typeof o)throw new Error("[nuxt] [useState] init must be a function: "+o);const r="$s"+n,a=l(),i=p.toRef(a.payload.state,r);if(void 0===i.value&&o){const t=o();if(p.isRef(t))return a.payload.state[r]=t,t;i.value=t}return i}("dd-navigation").value){const{navigation:t}=n();return{navigation:t}}const{data:y}=await e(`content-navigation-${t(c.value)}`,()=>(async e=>{const{content:n}=d().public;"function"!=typeof(null==e?void 0:e.params)&&(e=o(e));const p=e.params(),l=n.experimental.stripQueryParameters?r(`/navigation/${t(p)}.${n.integrity}/${a(p)}.json`):r(`/navigation/${t(p)}.${n.integrity}.json`);if(i(l),s())return(await import("./client-db-DSSyWOo_.mjs").then(t=>t.generateNavigation))(p);const f=await $fetch(l,{method:"GET",responseType:"json",params:n.experimental.stripQueryParameters?void 0:{_params:u(p),previewToken:m().getPreviewToken()}});if("string"==typeof f&&f.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return f})(c.value));return{navigation:y}},render(t){const e=p.useSlots(),{navigation:n}=t,renderLink=t=>p.h(f,{to:t._path},()=>t.title),renderLinks=(t,e)=>p.h("ul",e?{"data-level":e}:null,t.map(t=>t.children?p.h("li",null,[renderLink(t),renderLinks(t.children,e+1)]):p.h("li",null,renderLink(t))));return(null==e?void 0:e.default)?e.default({navigation:n,...this.$attrs}):renderLinks(n,0)}}),c=v.setup;v.setup=(t,e)=>{const n=p.useSSRContext();return(n.modules||(n.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentNavigation.vue"),c?c(t,e):void 0};export{v as default};
//# sourceMappingURL=ContentNavigation-Du89q2tJ.mjs.map
